<%inherit file="../base.html"/>

<%block name="content">
<!-- <div class="container"> -->
  <div class="row">
    <div class="col-md-12">
      <table class="table table-hover">
        <tr>
          <th>用户ID</th>
          <th>用户名</th>
          <th>邮箱</th>
          <th>别名</th>
          <th>管理员</th>
          <th>是否锁定</th>
          <th>操作</th>
        </tr>
        % for user in users:
        <tr>
          <td>${ user.id }</td>
          <td>${ user.username }</td>
          <td>${ user.email }</td>
          <td>${ user.nickname }</td>
          <td>${ user.is_admin }</td>
          <td>${ user.is_lock }</td>
          <td><a href="${ reverse_url('admin:userinfo', user.id)}">查看</a></td>
        </tr>
        % endfor
      </table>

      <!-- Pagination -->
      <nav aria-label="Page navigation example">
        <ul class="pagination">
          % if d["has_pre"]:
          <li class="page-item">
            <a class="page-link" href="${reverse_url('admin:userlist')}?page=${d["has_pre"]}" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
              <span class="sr-only">Previous</span>
            </a>
          </li>
          % else:
          <li class="page-item disabled">
            <a class="page-link" href="#" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
              <span class="sr-only">Previous</span>
            </a>
          </li>
          % endif
          % for p in range(d["plist"][0], d["plist"][1]):
            % if p == d["cur_page"]:
              <li class="page-item active"><a class="page-link" href="${reverse_url('admin:userlist')}?page=${p}">${p}</a></li>
            % else:
              <li class="page-item"><a class="page-link" href="${reverse_url('admin:userlist')}?page=${p}">${p}</a></li>
            % endif
          % endfor
          % if d["has_next"]:
            <li class="page-item">
              <a class="page-link" href="${reverse_url('admin:userlist')}?page=${d["has_next"]}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
              </a>
            </li>
          % else:
            <li class="page-item disabled">
              <a class="page-link" href="${reverse_url('admin:userlist')}?page=${d["has_next"]}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
              </a>
            </li>
          % endif
        </ul>
      </nav>
      <!-- Pagination  end -->

    </div>

  </div>
<!-- </div> -->

</%block>
